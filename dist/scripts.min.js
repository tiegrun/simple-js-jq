var pokemonRepository = function (t) { var o = [], n = "https://pokeapi.co/api/v2/pokemon/?limit=150"; function a(t) { o.push(t) } function e(t) { i(t).then(function () { r(t) }) } function i(o) { var n = o.detailsUrl; return t.ajax(n, { dataType: "json" }).then(function (t) { o.imageUrl = t.sprites.front_default, o.height = t.height, o.weight = t.weight, o.type = t.types[0].type.name }).catch(function (t) { console.error(t) }) } function r(o) { var n = t(".modal-content"), a = t(".modal-body"), e = t(".modal-title"), i = t("<h1>" + o.name + "</h1>"), r = t('<img clas="modal-img" style="width:50%">'); r.attr("src", o.imageUrl); var s = t("<p>height : " + o.height + " M.</p>"), l = t("<p>weight : " + o.weight + " Kg.</p>"), d = t("<p>type : " + o.type + "</p>"); a.empty(), e.empty(), n.css({ "background-color": "#B9ECF3", "text-align": "center" }), e.append(i.css({ "text-transform": "capitalize", "background-color": "#10013A", color: "#FFCB05", padding: "10px 20px 10px 10px" })), a.append(r.css({ border: "3px solid rgba(100,80,2,0.8)", "border-radius": "8px", "margin-bottom": "10px", "text-align": "center", "background-color": "rgba(100,80,2,0.3)" })), a.append(s.css({ "text-transform": "capitalize", "background-color": "#10013A", color: "#FFCB05", padding: "10px" })), a.append(l.css({ "text-transform": "capitalize", "background-color": "#10013A", color: "#FFCB05", padding: "10px" })), a.append(d.css({ "text-transform": "capitalize", "background-color": "#10013A", color: "#FFCB05", padding: "10px" })) } return t(window).on("keydown", function (o) { var n = t("#modalContainer"), a = t(".pokemonsList"); 27 === o.keyCode && n.hasClass("modalContainer__isVisible") && (n.removeClass("modalContainer__isVisible"), n.addClass("modalContainer__isHidden"), n.html("")), a.css("filter", "none") }), t(window).click(function (o) { var n = t("#modalContainer"), a = t(".pokemonsList"); t(o.target).hasClass("modalContainer__isVisible") || (n.removeClass("modalContainer__isVisible"), n.addClass("modalContainer__isHidden"), a.css("filter", "none"), n.html("")) }), { getAll: function () { return o }, add: a, addListItem: function (o) { var n = t(".pokemonsList"), a = t("<li></li>"), i = t('<button type="button" class="btn btn-primary button" data-toggle="modal" data-target="#exampleModal"></button>'); i.text(o.name), a.append(i), n.append(a), i.on("click", function () { e(o) }) }, loadList: function () { return t.ajax(n, { dataType: "json" }).then(function (t) { t.results.forEach(function (t) { a({ name: t.name, detailsUrl: t }) }) }).catch(function (t) { console.error(t) }) }, loadDetails: i, showDetails: e, showModal: r, hideModal: function (o) { t(o.target).parent().removeClass("modalContainer__isVisible"), t(o.target).parent().addClass("modalContainer__isHidden"); var n = t(".pokemonsList"); t("#modalContainer").html(""), n.css("style", "none") } } }(jQuery); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (t) { pokemonRepository.addListItem(t) }) });